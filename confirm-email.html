<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Confirm Email — Family Cloud</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div class="container" style="padding:24px">
    <div class="card" style="max-width:700px;margin:0 auto;text-align:center">
      <h2>Check your email</h2>
      <p class="small">We sent a confirmation link or magic link to your email. Click it to sign in. If you used magic link, after clicking the link you will be signed in and can return to <a href="index.html">the gallery</a>.</p>
      <p class="small">If you opened this page after clicking a magic link and still are not signed in, refresh this page.</p>
      <div style="margin-top:18px">
        <a href="login.html" class="btn">Back to login</a>
      </div>
    </div>
  </div>

  <div id="toastContainer" class="toast-container"></div>

  <script type="module">
    import * as app from "./app.js";

    // On page load, try to read current session — if signed in, send to index
    (async () => {
      const user = await app.requireAuth(false);
      if (user) location.href = 'index.html';
    })();
  </script>
</body>
</html>
